<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Quản lý khách hàng</title>
    <link rel="stylesheet" th:href="@{/admin.css}">
</head>
<body>
    <div class="dashboard">
        <h1>Quản trị viên</h1>

        <!-- Form thêm/sửa khách hàng -->
        <form id="customerForm" th:action="@{/customers/add}" method="post">
            <input type="hidden" id="customerId" name="id">

            <label for="maKH">Mã KH:</label>
            <input type="text" id="maKH" name="maKH" required>

            <label for="hoTen">Họ tên:</label>
            <input type="text" id="hoTen" name="hoTen" required>

            <label for="diaChi">Địa chỉ:</label>
            <input type="text" id="diaChi" name="diaChi" required>

            <label for="sdt">Số điện thoại:</label>
            <input type="text" id="sdt" name="sdt" required>

            <label for="ngaySinh">Ngày sinh:</label>
            <input type="date" id="ngaySinh" name="ngaySinh" required>

            <label for="ngayDK">Ngày đăng ký:</label>
            <input type="date" id="ngayDK" name="ngayDK" required>

            <label for="doanhSo">Doanh số:</label>
            <input type="number" id="doanhSo" name="doanhSo" required>

            <button type="submit">Lưu</button>
        </form>

        <!-- Danh sách khách hàng -->
        <table>
            <thead>
                <tr>
                    <th>Mã KH</th>
                    <th>Họ tên</th>
                    <th>Địa chỉ</th>
                    <th>SĐT</th>
                    <th>Ngày sinh</th>
                    <th>Ngày ĐK</th>
                    <th>Doanh số</th>
                    <th>Hành động</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="kh : ${khachhangs}">
                    <td th:text="${kh.maKH}"></td>
                    <td th:text="${kh.hoTen}"></td>
                    <td th:text="${kh.diaChi}"></td>
                    <td th:text="${kh.sdt}"></td>
                    <td th:text="${kh.ngaySinh}"></td>
                    <td th:text="${kh.ngayDK}"></td>
                    <td th:text="${kh.doanhSo}"></td>
                    <td>
                        <button th:attr="onclick='editCustomer(\'' + ${kh.maKH} + '\')'">Sửa</button>
                        <a th:href="@{/customers/delete/{id}(id=${kh.maKH})}" onclick="return confirm('Bạn có chắc muốn xóa?');">
                            <button>Xóa</button>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
		<button class="btn1" type="button" onclick="dangxuat()">Đăng xuất</button>
        
    </div>
	<script th:src="@{/admin.js}"></script>
    
</body>
</html>
